{"ast":null,"code":"var _jsxFileName = \"/Users/jason/Desktop/unravel/src/components/WebScrape.js\";\n\n/*global chrome*/\nimport React, { Component, useState, useEffect } from 'react';\nimport rp from \"request-promise\";\nimport { Button, Card, CardHeader, CardBody, CardFooter } from 'reactstrap';\n\nfunction WebScrape() {\n  const [url, setUrl] = useState(\"\");\n  const [materials, setMaterials] = useState([]);\n  const [toggle, setToggle] = useState(true);\n  useEffect(() => {\n    // use the request-promise library to fetch the HTML from\n    chrome.tabs.query({\n      active: true,\n      lastFocusedWindow: true\n    }, tabs => {\n      if (tabs.length > 0) {\n        console.log(tabs);\n        let _url = tabs[0].url;\n        setUrl(_url);\n        rp(\"https://cors-anywhere.herokuapp.com/\" + _url).then(html => {\n          var m = [];\n          console.log(html);\n\n          if (html.includes(\"cotton\")) {\n            console.log(\"cotton\");\n            m.push(\"cotton\");\n          }\n\n          if (html.includes(\"polyester\")) {\n            console.log(\"polyester\");\n            m.push(\"polyester\");\n          }\n\n          if (html.includes(\"wool\")) {\n            console.log(\"wool\");\n            m.push(\"wool\");\n          }\n\n          if (html.includes(\"cashmere\")) {\n            console.log(\"cashmere\");\n            m.push(\"cashmere\");\n          }\n\n          setMaterials(m);\n        });\n      }\n    });\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, \"Unravel\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, materials.map(m => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 32\n      }\n    }, m);\n  }))));\n}\n\nexport default WebScrape;","map":{"version":3,"sources":["/Users/jason/Desktop/unravel/src/components/WebScrape.js"],"names":["React","Component","useState","useEffect","rp","Button","Card","CardHeader","CardBody","CardFooter","WebScrape","url","setUrl","materials","setMaterials","toggle","setToggle","chrome","tabs","query","active","lastFocusedWindow","length","console","log","_url","then","html","m","includes","push","map"],"mappings":";;AAAA;AACA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,EAAoCC,SAApC,QAAoD,OAApD;AACA,OAAOC,EAAP,MAAe,iBAAf;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,UAAvB,EAAmCC,QAAnC,EAA6CC,UAA7C,QAA8D,YAA9D;;AAEA,SAASC,SAAT,GAAqB;AACjB,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBV,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAM,CAACW,SAAD,EAAYC,YAAZ,IAA4BZ,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACa,MAAD,EAASC,SAAT,IAAsBd,QAAQ,CAAC,IAAD,CAApC;AAEAC,EAAAA,SAAS,CAAE,MAAM;AACf;AACAc,IAAAA,MAAM,CAACC,IAAP,CAAYC,KAAZ,CAAkB;AAACC,MAAAA,MAAM,EAAE,IAAT;AAAeC,MAAAA,iBAAiB,EAAE;AAAlC,KAAlB,EAA2DH,IAAI,IAAI;AAC/D,UAAIA,IAAI,CAACI,MAAL,GAAc,CAAlB,EAAqB;AACnBC,QAAAA,OAAO,CAACC,GAAR,CAAYN,IAAZ;AACA,YAAIO,IAAI,GAAGP,IAAI,CAAC,CAAD,CAAJ,CAAQP,GAAnB;AACAC,QAAAA,MAAM,CAACa,IAAD,CAAN;AACArB,QAAAA,EAAE,CAAC,yCAAyCqB,IAA1C,CAAF,CACKC,IADL,CACUC,IAAI,IAAI;AACV,cAAIC,CAAC,GAAG,EAAR;AACAL,UAAAA,OAAO,CAACC,GAAR,CAAYG,IAAZ;;AACA,cAAIA,IAAI,CAACE,QAAL,CAAc,QAAd,CAAJ,EAA6B;AACzBN,YAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAI,YAAAA,CAAC,CAACE,IAAF,CAAO,QAAP;AACH;;AACD,cAAIH,IAAI,CAACE,QAAL,CAAc,WAAd,CAAJ,EAAgC;AAC5BN,YAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACAI,YAAAA,CAAC,CAACE,IAAF,CAAO,WAAP;AACH;;AACD,cAAIH,IAAI,CAACE,QAAL,CAAc,MAAd,CAAJ,EAA2B;AACvBN,YAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAI,YAAAA,CAAC,CAACE,IAAF,CAAO,MAAP;AACH;;AACD,cAAIH,IAAI,CAACE,QAAL,CAAc,UAAd,CAAJ,EAA+B;AAC3BN,YAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAI,YAAAA,CAAC,CAACE,IAAF,CAAO,UAAP;AACH;;AACDhB,UAAAA,YAAY,CAACc,CAAD,CAAZ;AACH,SArBL;AAsBC;AACN,KA5BD;AA6BD,GA/BQ,CAAT;AAiCA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKf,SAAS,CAACkB,GAAV,CAAcH,CAAC,IAAI;AAChB,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKA,CAAL,CAAP;AACH,GAFA,CADL,CAJJ,CADJ,CADJ;AAgBD;;AAED,eAAelB,SAAf","sourcesContent":["/*global chrome*/\nimport React, {Component, useState, useEffect} from 'react';\nimport rp from \"request-promise\";\nimport { Button, Card, CardHeader, CardBody, CardFooter} from 'reactstrap';\n\nfunction WebScrape() {\n    const [url, setUrl] = useState(\"\");\n    const [materials, setMaterials] = useState([]);\n    const [toggle, setToggle] = useState(true);\n  \n    useEffect (() => {\n      // use the request-promise library to fetch the HTML from\n      chrome.tabs.query({active: true, lastFocusedWindow: true}, tabs => {\n          if (tabs.length > 0) {\n            console.log(tabs);\n            let _url = tabs[0].url;\n            setUrl(_url);\n            rp(\"https://cors-anywhere.herokuapp.com/\" + _url)\n                .then(html => {\n                    var m = [];\n                    console.log(html);\n                    if (html.includes(\"cotton\")) {\n                        console.log(\"cotton\");\n                        m.push(\"cotton\");\n                    }\n                    if (html.includes(\"polyester\")) {\n                        console.log(\"polyester\");\n                        m.push(\"polyester\");\n                    }\n                    if (html.includes(\"wool\")) {\n                        console.log(\"wool\");\n                        m.push(\"wool\");\n                    }\n                    if (html.includes(\"cashmere\")) {\n                        console.log(\"cashmere\");\n                        m.push(\"cashmere\");\n                    }\n                    setMaterials(m);\n                })\n            }\n      });\n    })\n\n    return (\n        <div>\n            <Card>\n                <CardHeader>\n                    Unravel\n                </CardHeader>\n                <ul>\n                    {materials.map(m => {\n                        return <li>{m}</li>\n                    })}\n                </ul>\n                {/*<Button onClick={setToggle(!toggle)} >{toggle? \"turn off\": \"turn on\"}</Button>*/}\n            </Card>\n            \n        </div>\n    );\n  }\n  \n  export default WebScrape;"]},"metadata":{},"sourceType":"module"}