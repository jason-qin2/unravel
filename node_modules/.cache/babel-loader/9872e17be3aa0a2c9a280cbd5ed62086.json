{"ast":null,"code":"import _slicedToArray from\"/Users/jason/Desktop/unravel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/*global chrome*/import React,{Component,useState,useEffect}from'react';import rp from\"request-promise\";import{Button,Card,CardHeader,CardBody,CardFooter,CardTitle,CardText,Table,Col}from'reactstrap';import ErrorPage from'./ErrorPage';import MaterialPage from'./MaterialPage';import\"./css/popup.css\";import ReactDOM from\"react-dom\";import{Link,BrowserRouter,Route,Switch}from\"react-router-dom\";function WebScrape(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),url=_useState2[0],setUrl=_useState2[1];var _useState3=useState([\"NA\"]),_useState4=_slicedToArray(_useState3,2),materials=_useState4[0],setMaterials=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),numMats=_useState6[0],setNumMats=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),toggle=_useState8[0],setToggle=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),noMats=_useState10[0],setNoMats=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),index=_useState12[0],setIndex=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),cotton=_useState14[0],setCotton=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),polyester=_useState16[0],setPolyester=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),wool=_useState18[0],setWool=_useState18[1];useEffect(function(){// use the request-promise library to fetch the HTML from\nchrome.tabs.query({active:true,lastFocusedWindow:true},function(tabs){if(tabs.length>0){console.log(tabs);var _url=tabs[0].url;setUrl(_url);rp(\"http://localhost:8080/\"+_url).then(function(html){var m=[];//console.log(html);\nif(html.includes(\"cotton\")){console.log(\"cotton\");m.push(\"cotton\");setCotton(true);}if(html.includes(\"polyester\")){console.log(\"polyester\");m.push(\"polyester\");setPolyester(true);}if(html.includes(\"wool\")){console.log(\"wool\");m.push(\"wool\");setWool(true);}setMaterials(m);setNumMats(m.length);if(m.length>0){setNoMats(false);}else{setNoMats(true);}}).catch(function(error){return setMaterials([]);});}});});var cottonCard=/*#__PURE__*/React.createElement(Card,{body:true,inverse:true,style:{backgroundColor:'white'}},/*#__PURE__*/React.createElement(CardText,null,/*#__PURE__*/React.createElement(Table,{styles:{alignitems:'center',justifycontent:'center'}},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"h4\",null,\"Cotton\")),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"row\"},\"Carbon Emissions:\"),/*#__PURE__*/React.createElement(\"td\",null,\"1kg of cotton fiber = 12.5kg of CO2\")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"row\"},\"Water Consumption:\"),/*#__PURE__*/React.createElement(\"td\",null,\"20,000L to produce 1kg of cotton\")))))),/*#__PURE__*/React.createElement(Button,null,\"Learn More\"));var polyesterCard=/*#__PURE__*/React.createElement(Card,{body:true,inverse:true,style:{backgroundColor:'white'}},/*#__PURE__*/React.createElement(CardText,null,/*#__PURE__*/React.createElement(Table,{styles:{alignitems:'center',justifycontent:'center'}},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"h4\",null,\"Polyester\")),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"row\"},\"Carbon Emissions:\"),/*#__PURE__*/React.createElement(\"td\",null,\"1kg of cotton fiber = 12.5kg of CO2\")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"row\"},\"Water Consumption:\"),/*#__PURE__*/React.createElement(\"td\",null,\"20,000L to produce 1kg of cotton\")))))),/*#__PURE__*/React.createElement(Button,null,\"Learn More\"));if(materials.length==0){return/*#__PURE__*/React.createElement(ErrorPage,null);}else{return/*#__PURE__*/React.createElement(\"div\",{class:\"top\"},/*#__PURE__*/React.createElement(\"img\",{src:require(\"./logo.JPG\")}),/*#__PURE__*/React.createElement(\"p\",null,\"This clothing item uses the following materials:\"),/*#__PURE__*/React.createElement(\"div\",null,cotton?/*#__PURE__*/React.createElement(\"div\",{class:\"material-card\"},cottonCard,/*#__PURE__*/React.createElement(\"img\",{src:require(\"./line.JPG\")})):\"\",polyester?/*#__PURE__*/React.createElement(\"div\",{class:\"material-card\"},polyesterCard,/*#__PURE__*/React.createElement(\"img\",{src:require(\"./line.JPG\")})):\"\"));}}export default WebScrape;","map":{"version":3,"sources":["/Users/jason/Desktop/unravel/src/Components/WebScrape.js"],"names":["React","Component","useState","useEffect","rp","Button","Card","CardHeader","CardBody","CardFooter","CardTitle","CardText","Table","Col","ErrorPage","MaterialPage","ReactDOM","Link","BrowserRouter","Route","Switch","WebScrape","url","setUrl","materials","setMaterials","numMats","setNumMats","toggle","setToggle","noMats","setNoMats","index","setIndex","cotton","setCotton","polyester","setPolyester","wool","setWool","chrome","tabs","query","active","lastFocusedWindow","length","console","log","_url","then","html","m","includes","push","catch","error","cottonCard","backgroundColor","alignitems","justifycontent","polyesterCard","require"],"mappings":"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","sourcesContent":["/*global chrome*/\nimport React, {Component, useState, useEffect} from 'react';\nimport rp from \"request-promise\";\nimport { Button, Card, CardHeader, CardBody, CardFooter, CardTitle, CardText, Table, Col} from 'reactstrap';\nimport ErrorPage from './ErrorPage';\nimport MaterialPage from './MaterialPage';\nimport \"./css/popup.css\";\nimport ReactDOM from \"react-dom\";\nimport { Link, BrowserRouter, Route, Switch } from \"react-router-dom\";\n\nfunction WebScrape() {\n    const [url, setUrl] = useState(\"\");\n    const [materials, setMaterials] = useState([\"NA\"]);\n    const [numMats, setNumMats] = useState(0);\n    const [toggle, setToggle] = useState(true);\n    const [noMats, setNoMats] = useState(false);\n    const [index, setIndex] = useState(0);\n    const [cotton, setCotton] = useState(false);\n    const [polyester, setPolyester] = useState(false);\n    const [wool, setWool] = useState(false);\n  \n    useEffect (() => {\n      // use the request-promise library to fetch the HTML from\n      chrome.tabs.query({active: true, lastFocusedWindow: true}, tabs => {\n          if (tabs.length > 0) {\n            console.log(tabs);\n            let _url = tabs[0].url;\n            setUrl(_url);\n            rp(\"http://localhost:8080/\" + _url)\n                .then(html => {\n                    var m = [];\n                    //console.log(html);\n                    if (html.includes(\"cotton\")) {\n                        console.log(\"cotton\");\n                        m.push(\"cotton\");\n                        setCotton(true);\n                    }\n                    if (html.includes(\"polyester\")) {\n                        console.log(\"polyester\");\n                        m.push(\"polyester\");\n                        setPolyester(true);\n                    }\n                    if (html.includes(\"wool\")) {\n                        console.log(\"wool\");\n                        m.push(\"wool\");\n                        setWool(true);\n                    }\n                    setMaterials(m);\n                    setNumMats(m.length);\n                    if (m.length > 0) {\n                        setNoMats(false);\n                    } else {\n                        setNoMats(true);\n                    }\n                })\n                .catch(error => setMaterials([]))\n            }\n      });\n    })\n\n    const cottonCard = (\n        <Card body inverse style={{ backgroundColor: 'white' }}>\n        <CardText>\n            <Table styles={{alignitems: 'center', justifycontent: 'center'}}>\n                <thead>\n                    <h4>Cotton</h4>\n                </thead>\n                <tbody>\n                    <Col>\n                        <tr><th scope='row'>Carbon Emissions:</th><td>1kg of cotton fiber = 12.5kg of CO2</td></tr>\n                        <tr><th scope='row'>Water Consumption:</th><td>20,000L to produce 1kg of cotton</td></tr>\n                    </Col>\n                </tbody>\n            </Table>\n        </CardText>\n        <Button>Learn More</Button>\n      </Card>\n    );\n\n    const polyesterCard = (\n        <Card body inverse style={{ backgroundColor: 'white' }}>\n        <CardText>\n            <Table styles={{alignitems: 'center', justifycontent: 'center'}}>\n                <thead>\n                    <h4>Polyester</h4>\n                </thead>\n                <tbody>\n                    <Col>\n                        <tr><th scope='row'>Carbon Emissions:</th><td>1kg of cotton fiber = 12.5kg of CO2</td></tr>\n                        <tr><th scope='row'>Water Consumption:</th><td>20,000L to produce 1kg of cotton</td></tr>\n                    </Col>\n                </tbody>\n            </Table>\n        </CardText>\n        <Button>Learn More</Button>\n      </Card>\n    );\n\n    if (materials.length == 0) {\n        return (\n            <ErrorPage />\n        );\n    }\n    else {\n        return (\n            <div class=\"top\" >\n                <img src={require(\"./logo.JPG\")}></img>\n                <p>This clothing item uses the following materials:</p>\n                <div>\n                    {cotton ? \n                    <div class=\"material-card\">\n                        {cottonCard}\n                        <img src={require(\"./line.JPG\")}></img>\n                    </div> : \"\"}\n\n                    {polyester ? \n                    <div class=\"material-card\">\n                        {polyesterCard}\n                        <img src={require(\"./line.JPG\")}></img>\n                    </div> : \"\"}\n                    \n                </div>\n            </div>\n        );\n    } \n  }\n  \n  export default WebScrape;"]},"metadata":{},"sourceType":"module"}