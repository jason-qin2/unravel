{"ast":null,"code":"import _classCallCheck from\"/Users/jason/Desktop/unravel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jason/Desktop/unravel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jason/Desktop/unravel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jason/Desktop/unravel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/*global chrome*/import React,{Component,useState}from'react';import rp from\"request-promise\";var WebScraper=/*#__PURE__*/function(_Component){_inherits(WebScraper,_Component);var _super=_createSuper(WebScraper);function WebScraper(){var _this;_classCallCheck(this,WebScraper);_this=_super.call(this);_this.state={url:\"\",materials:[],cotton:false,polyester:false};return _this;}_createClass(WebScraper,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// use the request-promise library to fetch the HTML from pokemon.org\nchrome.tabs.query({active:true,lastFocusedWindow:true},function(tabs){console.log(\"hi\");console.log(tabs);var _url=tabs[0].url;_this2.state.url=_url;console.log(_this2.state.url);rp(\"https://cors-anywhere.herokuapp.com/\"+_this2.state.url).then(function(html){console.log(html);if(html.includes(\"cotton\")){console.log(\"cotton\");_this2.state.materials.push(\"cotton\");_this2.state.cotton=true;}if(html.includes(\"polyester\")){console.log(\"polyester\");_this2.state.materials.push(\"polyester\");_this2.state.polyester=true;}console.log(_this2.state.materials);console.log(_this2.state);});});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",null,\"The first element is \",this.state.materials[0]),/*#__PURE__*/React.createElement(\"ul\",null,this.state.cotton?/*#__PURE__*/React.createElement(\"li\",null,\"cotton\"):\"\",this.state.polyester?/*#__PURE__*/React.createElement(\"li\",null,\"polyester\"):\"\"));}}]);return WebScraper;}(Component);export default WebScraper;","map":{"version":3,"sources":["/Users/jason/Desktop/unravel/src/components/WebScraper.js"],"names":["React","Component","useState","rp","WebScraper","state","url","materials","cotton","polyester","chrome","tabs","query","active","lastFocusedWindow","console","log","_url","then","html","includes","push"],"mappings":"4jBAAA,iBACA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,MAAOC,CAAAA,EAAP,KAAe,iBAAf,C,GAEMC,CAAAA,U,wGACJ,qBAAc,4CACZ,wBACA,MAAKC,KAAL,CAAa,CACXC,GAAG,CAAE,EADM,CAEXC,SAAS,CAAE,EAFA,CAGXC,MAAM,CAAE,KAHG,CAIXC,SAAS,CAAE,KAJA,CAAb,CAFY,aAQb,C,oFAEqB,iBAClB;AACAC,MAAM,CAACC,IAAP,CAAYC,KAAZ,CAAkB,CAACC,MAAM,CAAE,IAAT,CAAeC,iBAAiB,CAAE,IAAlC,CAAlB,CAA2D,SAAAH,IAAI,CAAI,CACjEI,OAAO,CAACC,GAAR,CAAY,IAAZ,EACAD,OAAO,CAACC,GAAR,CAAYL,IAAZ,EACA,GAAIM,CAAAA,IAAI,CAAGN,IAAI,CAAC,CAAD,CAAJ,CAAQL,GAAnB,CACA,MAAI,CAACD,KAAL,CAAWC,GAAX,CAAiBW,IAAjB,CACAF,OAAO,CAACC,GAAR,CAAY,MAAI,CAACX,KAAL,CAAWC,GAAvB,EACFH,EAAE,CAAC,uCAAyC,MAAI,CAACE,KAAL,CAAWC,GAArD,CAAF,CACGY,IADH,CACQ,SAAAC,IAAI,CAAI,CACVJ,OAAO,CAACC,GAAR,CAAYG,IAAZ,EACA,GAAIA,IAAI,CAACC,QAAL,CAAc,QAAd,CAAJ,CAA6B,CACzBL,OAAO,CAACC,GAAR,CAAY,QAAZ,EACA,MAAI,CAACX,KAAL,CAAWE,SAAX,CAAqBc,IAArB,CAA0B,QAA1B,EACA,MAAI,CAAChB,KAAL,CAAWG,MAAX,CAAoB,IAApB,CACH,CACD,GAAIW,IAAI,CAACC,QAAL,CAAc,WAAd,CAAJ,CAAgC,CAC5BL,OAAO,CAACC,GAAR,CAAY,WAAZ,EACA,MAAI,CAACX,KAAL,CAAWE,SAAX,CAAqBc,IAArB,CAA0B,WAA1B,EACA,MAAI,CAAChB,KAAL,CAAWI,SAAX,CAAuB,IAAvB,CACH,CACDM,OAAO,CAACC,GAAR,CAAY,MAAI,CAACX,KAAL,CAAWE,SAAvB,EACAQ,OAAO,CAACC,GAAR,CAAY,MAAI,CAACX,KAAjB,EACH,CAfH,EAgBC,CAtBD,EAuBD,C,uCAEQ,CACP,mBACI,4CACE,qDAAyB,KAAKA,KAAL,CAAWE,SAAX,CAAqB,CAArB,CAAzB,CADF,cAEE,8BACG,KAAKF,KAAL,CAAWG,MAAX,cAAmB,uCAAnB,CAAqC,EADxC,CAEG,KAAKH,KAAL,CAAWI,SAAX,cAAsB,0CAAtB,CAA2C,EAF9C,CAFF,CADJ,CASD,C,wBAhDoBR,S,EAmDvB,cAAeG,CAAAA,UAAf","sourcesContent":["/*global chrome*/\nimport React, {Component, useState} from 'react';\nimport rp from \"request-promise\";\n\nclass WebScraper extends Component {\n  constructor() {\n    super();\n    this.state = {\n      url: \"\",\n      materials: [],\n      cotton: false,\n      polyester: false\n    };\n  }\n  \n    componentDidMount() {\n      // use the request-promise library to fetch the HTML from pokemon.org\n      chrome.tabs.query({active: true, lastFocusedWindow: true}, tabs => {\n        console.log(\"hi\");\n        console.log(tabs);\n        let _url = tabs[0].url;\n        this.state.url = _url;\n        console.log(this.state.url);\n      rp(\"https://cors-anywhere.herokuapp.com/\" + this.state.url)\n        .then(html => {\n            console.log(html);\n            if (html.includes(\"cotton\")) {\n                console.log(\"cotton\");\n                this.state.materials.push(\"cotton\");\n                this.state.cotton = true;\n            }\n            if (html.includes(\"polyester\")) {\n                console.log(\"polyester\");\n                this.state.materials.push(\"polyester\");\n                this.state.polyester = true;\n            }\n            console.log(this.state.materials);\n            console.log(this.state);\n        })\n      });\n    }\n  \n    render() {\n      return (\n          <div>\n            <p>The first element is {this.state.materials[0]}</p>\n            <ul>\n              {this.state.cotton? <li>cotton</li> : \"\"}\n              {this.state.polyester? <li>polyester</li> : \"\"}\n            </ul>\n          </div>\n      );\n    }\n  }\n  \n  export default WebScraper;"]},"metadata":{},"sourceType":"module"}